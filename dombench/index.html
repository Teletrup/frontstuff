<body>
  <script>
    //TODO iterate stuff that breaks
    function topDownEmptyAttached() {
      let el = document.body;
      for (let i=0; i<1916; i++) {
        let _el = document.createElement('div');
        el.appendChild(_el);
        el = _el; 
      }
      //el.appendChild(document.createTextNode('top down empty attached'));
    }

    function flatEmptyAttached() {
      document.body.appendChild(document.createTextNode('foo'));
      for (let i=0; i<100000; i++) {
        document.body.appendChild(document.createElement('div'));
      }
      //document.body.appendChild(document.createTextNode('flat attached'));
    }

    function topDownStuffAttached() {
    }


    function justCreatingText() {
      for (let i=0; i<1e7; i++) {
        document.createTextNode('foo');
      }
    }
    function justCreatingDivs() {
      for (let i=0; i<1e7; i++) {
        document.createElement('div');
      }
    }

    flatEmptyAttached();
    //flatEmptyHiddenAttached();
  </script>
</body>
